<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <atom:link href="/feed.xml" rel="self" type="application/rss+xml"/>
    <link>http://0.0.0.0:4000/</link>
    <description></description>
    <pubDate>Sun, 04 Dec 2022 15:22:27 +0000</pubDate>
    
      <item>
        <title>Mi nuevo mediacenter - Thinkpad m700</title>
        <link>/2022/11/08/cambiando-mediacenter.html</link>
        <guid isPermaLink="true">/2022/11/08/cambiando-mediacenter.html</guid>
        <description>&lt;p&gt;Como ya mencione en al articulo que hablaba sobre el cambio de servidor &lt;a href=&quot;/2022/05/26/nuevo-servidor.html&quot;&gt;Mi nuevo servidor&lt;/a&gt;, me di cuenta que me quedaba con la RPI4 de 4Gb sin utilizar.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Asi que decidi cambiar la antigua RPI3 donde empezaba ya a tener problemas con los nuevos codecs con que venian las peliculas ( HEVC 10b-AC3 ) y cambiarla por la RPI4 con soporte para estos nuevos 
codecs y que no usaba por haberla sustituido por el Dell.&lt;/p&gt;

&lt;p&gt;Me puse manos a la obra con ello, pero ya os digo que me decepciono un monton la RPI4.&lt;/p&gt;

&lt;p&gt;Lo primero fue bajarme la imagen compatible de Libreelec para mi RPI4 y su posterior instalación. Todo esto conectado a un monitor que tengo en casa para estas pruebas / instalaciones.&lt;/p&gt;

&lt;p&gt;No tuve ningun problema la la hora de la instalación y de la configuración ( Wifi, pluguins, conexión a SAMBA, etc… ) todo perfecto. Luego lo conecto al TV que tengo en el salon con un conversor 
de HDMI a micro-HDMI y no funcionaba. No se veia nada, todo en negro. Aqui es donde pienso que no he hecho bien la instalación / configuración, que no lee correctamente la resolución, o sea las 
cosas más normales que te puedas imaginar.&lt;/p&gt;

&lt;p&gt;Busque información por inet, pregunte a uno de los canales de Telegram donde estoy que tratan sobre las RPI4 como mediacenter, etc… y todos me decian, que tenia que forzar la resolución a traves 
del fichero &lt;strong&gt;config.txt&lt;/strong&gt;. Todo sin obtener ningun resultado.&lt;/p&gt;

&lt;p&gt;Al final me canse de trastear con la RPI4, y eso que habia hecho miles de instalaciones pensado que hay es donde residia el problema. Al final ya me quedo claro, que el problema no era la 
instalación, sino el conversor de HDMI a micro-HDMI que no funcionaba correctamente. Asi que el siguiente paso, fue comprar un cable de HDMI a micro-HDMI.&lt;/p&gt;

&lt;p&gt;Una vez que me llego el cable correcto, vuelta a hacer una nueva instalación conectando la RPI4 al monitor de pruebas. Todo funcionaba a las mil maravillas, la WIFI excelente, la imagen perfecta, hay 
es donde me dije, pues ya esta todo en marcha y listo para volver a funcionar. Hay infeliz de mi!!!&lt;/p&gt;

&lt;p&gt;Me llevo la RPI4 al TV del comedor y la conecto y no me lo podria creer, todo funcionaba perfectamente. Pues ya esta, lo vuelvo a tener todo en perfecto estado y en marcha hasta que puse a usar
la RPI4 con la WIFI y aqui es donde se me cayo el mundo encima.&lt;/p&gt;

&lt;p&gt;No me lo podia creer, la WIFI no funcionaba ni a patadas, la pelicula se quedaba congelada y no se veia nada!!! yo tirandome de los pelos porque no entendia nada, si hasta hace 5 minutos todo 
funcionaba correctamente y ahora de golpe y porrazo no funciona nada. Volvemos a estar como en el principio.&lt;/p&gt;

&lt;p&gt;A partir de aqui todo fueron problemas. Pero vamos a explicar todo lo sucedido paso a paso.&lt;/p&gt;

&lt;p&gt;Lo primero fue copiar la imagen de Libreelec en el SSD e iniciamos la instalación / configuración de Libreelec. Todo funciona perfectamente hasta llegar a la configuración de la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WIFI&lt;/code&gt; (y esto si 
que es para mear y no echar gota).&lt;/p&gt;

&lt;p&gt;Despues de buscar información como un loco, veo que hay un error (validado y reportado) en el diseño de la Raspberry que es, cuando usas la WIFI esta se &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;acopla&lt;/code&gt; a la señal del cable HDMI y hace 
que se anule la señal WIFI. Para solucionar este problema se puede hacer de 3 maneras:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Solución dificil&lt;/code&gt;, cambiar de canal en el que emite tu router por otro diferente para que no se acople a la señal del cable HDMI.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Solución facil&lt;/code&gt;, desactivar la WIFI de la Raspberry y usar un conector USB-WIFI&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Solución ideal&lt;/code&gt;, esperar a que Raspberry saque un nuevo firmware que solucione este problema. Se comenta que hasta finales de año no estara disponible.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;En mi caso, lo que hice fue escoger la solución facil, me compre un usb-wifi y volvi de nuevo a configurar la RPI4B, esperando, por fin, poder usarla como HTC.&lt;/p&gt;

&lt;p&gt;Volvemos a reiniciar la configuración de la WIFI sin ningun problema, esta vez, ya tenemos la RPI4B conectada a la WIFI, pero parece ser que entre el SSD conectado a traves de USB, el mando a 
distancia conectado a traves de USB y el USB de la WIFI, la Raspberry no podia manejar correctamente toda la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;información&lt;/code&gt; que recibia.&lt;/p&gt;

&lt;p&gt;Para que os hagais una idea, la RPI3B funcionaba mejor que la RPI4B y eso que esta ultima (siempre lo añado a todos mis Libreelec) habia creado el fichero &lt;strong&gt;advancedsettings.xml&lt;/strong&gt; donde le añado lo 
siguiente:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &amp;lt;advancedsettings &lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &amp;lt;cache&amp;gt;
      &amp;lt;buffermode&amp;gt;4&amp;lt;/buffermode&amp;gt;
      &amp;lt;memorysize&amp;gt;0&amp;lt;/memorysize&amp;gt;
    &amp;lt;/cache&amp;gt;
  &amp;lt;/advancedsettings&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Donde:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;buffermode&lt;/code&gt;: le indica a Kodi que tipo de buffer que se va a usar (en mi caso, selecciono el valor &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;4&lt;/code&gt; para el tratamiento de ficheros a traves de samba, nfs).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;memorysize&lt;/code&gt;: le indica a Kodi que de que manera va a usar la RAM (en mi caso, selecciono el valor &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0&lt;/code&gt; para que de preferencia al SSD/HDD en vez de a la RAM).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;De esta manera se consigue que mientras se visualiza la pelicula / serie, se descargue más fichero y no tener problemas a la hora de visualización.&lt;/p&gt;

&lt;p&gt;Pero en mi caso, esto no pasa, para que os hagais una idea de como funciona, que habia veces (da igual que versión de mkv fuera, 264, 265) que Kodi se quedaba colgado, incluso usando un SSD.&lt;/p&gt;

&lt;p&gt;Al final, cansado de ver que era imposible usar la RPI4B, empeza a investigar y a preguntar en un canal de Telegram sobre usar la Raspberry como HTC y se llego a la conclusión de que era el USB que 
se colapsaba y en cambio esto mismo (en la RPI3B) no pasa, porque como por defecto, uso la WIFI que ya lleva incorpada, pues…&lt;/p&gt;

&lt;p&gt;Y asi estamos, usando la RPI4B como HTC, desilusionado ante el mal funcionamiento de lo que tendria que ser la mejor Raspeberry hasta el momento.&lt;/p&gt;

&lt;p&gt;Por eso digo, que maldita el dia que se me ocurrio cambiar mi RPI3 ( se que era un cambio necesario, la tecnologia siempre esta en constante evolución y más los codecs para ver las peliculas son los 
que mandan ) a la RPI4, y ahora la tengo tirada en casa sin usar, por culpa de este problema, aunque ;) podria haberla vendido y sacarme una pasta, porque tal como estan las RPI4, ganaria pasta 
seguro, pero me da pena venderla, porque nunca se sabe cuando te va hacer falta una.&lt;/p&gt;

&lt;p&gt;Asi que despues ( de nuevo, pregunte en otro canal de Telegram ) me aconsejaron que lo mejor y que para ahorrarme futuros problemas, que lo mejor es tener un PC conectado a la TV del comedor y me 
ahorro todos los problemas derivados con los codecs y el soporte de estos, porque en un PC normal y corriente tiene más recorrido que la RPI4.&lt;/p&gt;

&lt;p&gt;Y fue lo que hice, volvi a mi canal favorito de Thinkpads de Telegram y pregunte si alguno le sobrava algun Tiny. Y ten por seguro que siempre hay alguien que le sobra un Tiny.&lt;/p&gt;

&lt;p&gt;Como todo en este mundo, es mutable y ante la posibilidad de conseguir a buen precio un &lt;a href=&quot;https://icecat.biz/es/p/lenovo/10mr0047us/thinkcentre-pcs-workstations-m710q-36768136.html&quot;&gt;Lenovo ThinkCenter M710q&lt;/a&gt;,
 asi que me lance de cabeza por el.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/lenovo-m710q.jpg&quot; alt=&quot;imatge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Y ya me veis, de tener 2 RPI ( RPI4 con 4Gb como servidor y una RPI3 como mediacenter ) a tener un Tiny Lenovo m700 con 8Gb y un i5-6500 como mediacenter y un Dell Optiplex 3050 con 8Gb y un i5-7500 
como servidor.&lt;/p&gt;

&lt;p&gt;Por eso digo, que a veces no hay mal que por bien no venga.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://libreelec.tv&quot;&gt;Libreelec&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.adslzone.net/2019/11/28/problemas-wifi-raspberry-pi-4/]&quot;&gt;RPI4B pierde cobertura Wifi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.enricozini.org/blog/2019/himblick/raspberry-pi-4-loses-wifi-at-2560x1440-screen-resolution/&quot;&gt;Raspberry Pi 4 WiFi stops working at 2560x1440 screen resolution&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kodi.wiki/view/Advancedsettings.xml&quot;&gt;Cambiar el funcionamiento de la cache en Kodi&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 08 Nov 2022 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Mi nuevo servidor</title>
        <link>/2022/05/26/nuevo-servidor.html</link>
        <guid isPermaLink="true">/2022/05/26/nuevo-servidor.html</guid>
        <description>&lt;p&gt;Se que llevo mucho tiempo si publicar nada, pero he estado liado haciendos cambios en el servidor ( RPI4 ).&lt;/p&gt;

&lt;p&gt;Como sabeis, antes tenia una Raspberry Pi 4 de 4Gb, pero para algunas cosas, se me quedaba pillado y pense que podia usarla como mediacenter, y cambiar la RPI3 que tenia por esta.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Como estoy en el grupo de Telegram de Thinkpads ( unos frikis de cuidado ) pues a un compañero del canal, que tenia un Dell a la venta, se lo compre. Y como siempre, cuando me llego, me senti como un 
niño con zapatos nuevos.&lt;/p&gt;

&lt;p&gt;Asi que me lie la manta a la cabeza y el cambio lo hice a lo bestia, ya que hago un cambio, porque no la lio, y ahora tengo un Dell Optiplex 3050 con 8Gb con un i5-7500. O sea un maquinon que no me lo
 voy a acabar nunca.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/dell_3050.png&quot; alt=&quot;imatge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Y junto con el Dell y algunas cosas que tenia en casa pues me he montado lo siguiente :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;SDD crucial de 250Gb para el Sistema Operativo&lt;/li&gt;
  &lt;li&gt;GNU/Debian stable para no tener ningun problema ( cuando es un servidor, prefiero la estabilidad a la novedad )&lt;/li&gt;
  &lt;li&gt;El HDD externo de 8Tb ( Western Digital ) que tenia conectado a la RPI4 que se lo he contectado al servidor&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ahora solo queda hacer el cambio de la RPI4B que tenia haciendo las funciones de servidor y poner el Tiny y de paso, aprovechar (aqui no nada se tira), la RPI4 y ponerla en substitución de la RPI3B 
que tengo ahora.&lt;/p&gt;

&lt;p&gt;Nos pusimos a ello junto mi inseparable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GNU/Debian&lt;/code&gt;, en versión STABLE (no quiero jugar a ser dios con UNSTABLE en un servidor) y previa actualización del HDD por un SSD Crucial de 250Gb nos 
pusimos con la instalación.&lt;/p&gt;

&lt;p&gt;La instalación no cambia en GNU/Debian, sin ningun problema, aunque tuve dudas de que manera particionar el SSD para sacarle el maximo rendimiento. Después de pensar lo deje de la siguiente manera 
(seguramente hay otra mejor, pero no se me ha ocurrido):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  /dev/sdb1    /       200Gb
  /dev/sdb2    swap    4Gb
  /dev/sdb5    /home   40Gb&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Se que en un PC con 8Gb de RAM, poner swap no tiene ningun sentido, pero, nunca se sabe…&lt;/p&gt;

&lt;p&gt;Llegados a este punto y sin ningun problema a la hora de la instalación, añadi todo lo que tenia en la RPI4B al Tiny (que no era poco):&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Nginx Proxy Manager&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;del&gt;Navidrome&lt;/del&gt;: Ahora usamos &lt;a href=&quot;&quot;&gt;Gonic&lt;/a&gt; la aplicació del movil &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ultrasonic&lt;/code&gt; que tengo instalada en el movil&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Duckdns&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Flexget&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/linuxserver/transmission&quot;&gt;Transmission&lt;/a&gt;: Mi fichero de &lt;a href=&quot;https://github.com/Vctrsnts/configs&quot;&gt;configuración&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/ngosang/amule&quot;&gt;aMule&lt;/a&gt;: Mi fichero de &lt;a href=&quot;https://github.com/Vctrsnts/configs&quot;&gt;configuración&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Jackett&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Samba&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Más unos cosas nuevas que he ido aprendiendo por el camino ( y todo a traves de Docker ):&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Pi-Hole&lt;/code&gt;: Bloquear toda la publicidad cuando navegas por cualquier sitio.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wireguard&lt;/code&gt;: VPN para poder acceder a tu servidor desde cualquier sitio.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Jellyfin&lt;/code&gt;: Queria una especie de biblioteca para saber que tengo (peliculas y series) pero sin necesidad de tener que conectar el HTC. Se que a lo mejor es excesivo, pero no he encontrado nada 
parecido a lo que quiero,
  aunque sigo investigando a ver si encuentro algo igual pero más liviano (no necesito todo lo que lleva consigo jellyfin).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;: Servidor jekyll (GitHub) para crear tu propio blog en local y luego transformar los archivos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;markdown&lt;/code&gt; en paginas html y subir a GitHub.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Como no puede ser de otra manera, ya esta todo funcionando y sin ningun problema. No esperaba menos de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GNU/Debian&lt;/code&gt; y menos siendo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;STABLE&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Por eso digo, que tengo servidor para rato y que nunca me lo acabare. A parte de que quiero probar nuevas cosas que voy viendo en los blogs que sigo :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://atareao.es&quot;&gt;Atareado&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io&quot;&gt;uGeek&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://elblogdelazaro.org/&quot;&gt;El Blog de Lázaro&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Que sorpresas nos esperan con este nuevo servidor??&lt;/p&gt;

&lt;p&gt;Como ya he dicho antes, aprovechando que teniamos a la RPI4B libre, hemos substituido el antiguo mediacenter ( RPI3B ) por esta más nueva, porque como todo en la informatica, todo avanza, pero esto lo
 explicare en otro &lt;a href=&quot;/2022/11/08/cambiando-mediacenter.html&quot;&gt;articulo&lt;/a&gt; que estoy preparando ( y ya os digo que no son buenas noticias ).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;
 Después de estos meses de uso, no me puedo quejar, porque el servidor es una maquinon en toda regla, pero ante el aumento de la luz y que a veces, pienso que lo estoy infrautilizando,
 que no le saco todo el partido y toda la potencia que el Dell me puede dar, me esta rondando por la cabeza, que no se si me he excedido poniendo tal potencia en el servidor. Que a lo mejor, con la 
 RPI4 tendria más que suficiente, para todo lo que tiene que hacer, que aun es poco, pero es la duda que tengo, no se si el Dell esta desaprovechado y derrochando el dinero y en cambio, si pongo la 
 RPI, no se quedara colgada por todas las cosas que quiero hacer ante la limitación evidente de la Raspberry. Es una cosa que quiero estudiar a fondo, preguntar, ver mirar, etc… y sacar conclusiones.
 Pero tranquilos que informare de todo.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=qc8mkWtwY9c&quot;&gt;Configurar y usar Pi-Hole - PeladoNerd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=G_Pv9XEzfUY&quot;&gt;Configurar y usar Wireguard - PeladoNerd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 26 May 2022 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Configurar el fichero .bashrc para descomprimir ficheros</title>
        <link>/2022/01/15/configurar-fichero-bashrc.html</link>
        <guid isPermaLink="true">/2022/01/15/configurar-fichero-bashrc.html</guid>
        <description>&lt;p&gt;A continuación, explicare como tengo configurado mi &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; para que a la hora de descomprimir archivos todo me sea más facil y rapido, porque he puesto unos &lt;strong&gt;alias&lt;/strong&gt; a las opciones / programas más
comunes de compresión / descompresión&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Lo primero es editar nuestro fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.basrch&lt;/code&gt; y hacerle las siguientes modificacions :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;### EXTRACCIÓ DE FITXERS&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# usage: ex &amp;lt;file&amp;gt;&lt;/span&gt;
  ex &lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
      case&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tar.bz2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xjf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tar.gz&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xzf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.bz2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       bunzip2 &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.rar&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       unrar x &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.gz&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;nb&quot;&gt;gunzip&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tar&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tbz2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xjf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tgz&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xzf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.zip&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       unzip &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.Z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;         uncompress &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.7z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;        7z x &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.deb&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       ar x &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tar.xz&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xf &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tar.zst&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   unzstd &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;'&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' no es pot extreure via ex()&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else
      &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;'&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' no es un fitxer valid&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;con esto lo que conseguimos es que para descomprimir cualquier fichero lo podemos hacer de la siguiente manera :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;ex nombre_fichero_comprimido&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
        <pubDate>Sat, 15 Jan 2022 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Raspberry Pi. Instalar Debian GNU/Linux en la Raspberry Pi 4</title>
        <link>/2022/01/07/debian-raspberrypi.html</link>
        <guid isPermaLink="true">/2022/01/07/debian-raspberrypi.html</guid>
        <description>&lt;p&gt;Cuando tienes una Raspberry Pi y ves que el &lt;strong&gt;SO&lt;/strong&gt; recomendado es Raspberry Pi OS (antigua Raspbian), siempre me queda la cosa de no poder instalar Debian GNU/Linux ARM64. Pero desde que actualizaron 
la versión del firmware y Debian GNU/Linux empezo a tener versiones más estables, eso ya ha pasado a posible.&lt;/p&gt;

&lt;p&gt;Asi que ahora voy a explicar los pasos que he hecho, en mi caso, para poder realizar y usar Debian GNU/Linux ARM64 en una Raspberry Pi 4 (4Gb).&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Antes de empezar, lo que necesitas es lo siguiente:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Imagen ISO de &lt;a href=&quot;https://cdimage.debian.org/debian-cd/current/arm64/iso-cd/&quot;&gt;Debian GNU/Linux 11 ARM64&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;La ultima versión del &lt;a href=&quot;https://github.com/pftf/RPi4/releases&quot;&gt;firmware UEFI para la Raspberry Pi 4&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Que la &lt;strong&gt;EEPROM&lt;/strong&gt; de nuestra Raspberry Pi este a la ultima versión. Esto ultimo, se puede saber si al iniciar la Raspberry Pi, nos aparece un codigo &lt;strong&gt;QR&lt;/strong&gt; a la derecha de la pantalla.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/last_eeprom.png&quot; alt=&quot;imatge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En el caso, del &lt;strong&gt;firmware UEFI&lt;/strong&gt;, (100% libre) nos obliga a usar &lt;strong&gt;GPT&lt;/strong&gt; en vez de &lt;strong&gt;MBR&lt;/strong&gt; y tambien tenemos que usar &lt;strong&gt;ESP&lt;/strong&gt; (EFI System Partition) en lugar de la &lt;strong&gt;msftdata&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Después de tener claro estos matices, vamos a realitzar el particionado de nuestro HDD, en mi caso, lo he realizado con GPARTED, donde todo lo que tenemos que hacer es más facil.&lt;/p&gt;

&lt;p&gt;Los pasos a realizar son los siguientes:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Asegurarnos que nuestra tabla de partición del HDD esta en GPT (con GPARTED, es facil realizar el cambio).&lt;/li&gt;
  &lt;li&gt;Creamos una partición de como minimo 648Mb y la formateamos en FAT32 (más adelante, explico como reducir esta partición al minimo necesario).&lt;/li&gt;
  &lt;li&gt;En mi caso, cree otra partición del 20Gb que es donde instalare el sistema base de Debian GNU/Linux&lt;/li&gt;
  &lt;li&gt;Tambien, cree otra partición, en este caso, de 1Gb para la memoria SWAP.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Una vez, tenemos esto echo, más tarde volveremos para acabar, descomprimimos el &lt;strong&gt;firmware UEFI&lt;/strong&gt; en la primera partición que hemos creado, la cual, sin tocar nada y sin crear ningun directorio.&lt;/p&gt;

&lt;p&gt;Después de descomprimir el firmware, vamos a &lt;strong&gt;descomprimir&lt;/strong&gt; la imagen ISO de Debian GNU/Linux en esta misma partición (por eso, hago una partición de 648Mb), para realizar podemos hacerlo de la 
siguiente manera:&lt;/p&gt;

&lt;p&gt;Creamos un directorio donde montaremos nuestra imagen:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mount &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; loop /home/tuUsuario/imagen_debian.iso /directorio/destino&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez montado la imagen, tenemos que copiar todo el contenido de este directorio a la primera partición, incluido el directorio &lt;strong&gt;.disk&lt;/strong&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; /directorio/destino /directorio/primera_particion&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez, hemos realizado esto, es lo que hice yo, porque sino, SO live (xubuntu) no me detectaba la primera partición, volvemos a nuestro GPARTED, seleccionamos la primera partición, seleccionamos los
 &lt;strong&gt;flags&lt;/strong&gt; de la partición y marcamos &lt;strong&gt;boot&lt;/strong&gt; y &lt;strong&gt;esp&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/gparted_flags.png&quot; alt=&quot;imatge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Y ahora, ya tenemos preparado nuestro HDD para instalar Debian GNU/Linux.&lt;/p&gt;

&lt;p&gt;Procedemos a conectar el HDD a la Raspberry Pi y si todo ha ido bien, podemos ver, la pantalla de instalación de Debian GNU/Linux de toda la vida.&lt;/p&gt;

&lt;p&gt;Y una vez finalizada la instalación, solamente nos queda disfrutar de nuestra Debian GNU/Linux de toda la vida.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Consejos&lt;/strong&gt;:&lt;/p&gt;
  &lt;ul&gt;
    &lt;li&gt;Una vez que hemos realizado la instalación, lo que yo hice, fue reducir la partición de 648Mb a 260Mb para asi, después añadir ese espacio extra a a partición del sistema. Lo de 260Mb lo digo, 
porque es el minimo que (en mi caso) GPARTED no me transformaba la primera partición de &lt;strong&gt;FAT32&lt;/strong&gt; a &lt;strong&gt;FAT16&lt;/strong&gt;.
      &lt;ul&gt;
        &lt;li&gt;Para llevar a cabo esto, en mi caso, borre todo lo que se habia añadido a la hora de &lt;em&gt;descomprimir&lt;/em&gt; la ISO de Debian GNU/Linux. El &lt;em&gt;firmware UEFI&lt;/em&gt; tambien lo dejo. En total todo el espacio ocupado
 (en mi caso) son 15.6Mb.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;En el caso de tener una Raspberry Pi de 4Gb o más, el sistema esta configurado, para que solamente aproveche 3Gb de RAM, para usar toda la RAM que tenemos, tenemos que desactivar un parametro del 
&lt;strong&gt;boot&lt;/strong&gt; de &lt;strong&gt;UEFI&lt;/strong&gt;, se hace de la siguiente manera:
      &lt;ul&gt;
        &lt;li&gt;Reiniciamos la Raspberry&lt;/li&gt;
        &lt;li&gt;Accedemos a las opciones de UEFI apretando la tecla &lt;em&gt;ESC&lt;/em&gt;.&lt;/li&gt;
        &lt;li&gt;Vamos a la opción &lt;em&gt;Device Manager &amp;gt; Raspberry Pi Configuration &amp;gt; Advanced Configuration&lt;/em&gt;&lt;/li&gt;
        &lt;li&gt;&lt;strong&gt;desactivamos&lt;/strong&gt; la opción &lt;em&gt;Limit RAM to 3Gb&lt;/em&gt;.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;Y con esto ya tenemos a nuestra disposición, toda la RAM de nuestro dispositivo.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.wifi-libre.com/topic-1624-instalacion-debian-buster-vainilla-en-raspberry-pi-4.html&quot;&gt;Instalación Debian buster “vainilla” en Raspberry Pi 4&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.raspberrypi.com/viewtopic.php?t=282839&quot;&gt;Guide: Installation of &lt;em&gt;VANILLA&lt;/em&gt; Debian 11 (or later) on a Raspberry Pi 4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 07 Jan 2022 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Solucionar error i915 en grafica Intel</title>
        <link>/2021/06/09/solucionar-error-i915.html</link>
        <guid isPermaLink="true">/2021/06/09/solucionar-error-i915.html</guid>
        <description>&lt;p&gt;Desde que Debian GNU/Linux saco la versión del kernel 5.4 en mi portatil fue recurrente los flashes en la pantalla y el siguiente error:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;go&quot;&gt;  [drm:intel_cpu_fifo_underrun_irq_handler [i915]] *ERROR* CPU pipe A FIFO underrun&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;La solución que todo el mundo me decia era eliminar el paquete del driver de &lt;em&gt;xserver-xorg-video-intel&lt;/em&gt; y usar el por defecto del kernel. Pero lo entendia que significaba eso (realmente era asi), no 
sabia como se tenia que hacer, porque si hacia eso perdia todo el &lt;strong&gt;XORG&lt;/strong&gt;, al final en este &lt;a href=&quot;http://forums.debian.net/viewtopic.php?f=7&amp;amp;t=149472&amp;amp;p=737807#p737807&quot;&gt;hilo&lt;/a&gt; me indicaron que si hacia esto, 
solo se borraba el metapaquete de &lt;strong&gt;xserver-xorg-video-all&lt;/strong&gt; pero nada más.&lt;/p&gt;

&lt;p&gt;Al final di con la solución en el foro de &lt;a href=&quot;https://exdebian.org/foro/como-solucionar-drmi965irqhandler-i915-error-cpu-pipe-fifo-underrun-solucionado&quot;&gt;exDebian.org&lt;/a&gt;.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Lo que tienes que hacer es crear (en mi caso, funciona) el siguiente fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;20-intel.conf&lt;/code&gt; con el siguiente contenido:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;etc/X11/&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Si no aparece &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xorg.conf.d&lt;/code&gt; vas a tener que crear la carpeta&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;su
&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; /etc/X11/xorg.conf.d&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y luego crear el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;20-intel.conf&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;su
&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;vi /etc/X11/xorg.conf.d/20-intel.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Dentro del mismo poner el siguiente texto&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-config&quot; data-lang=&quot;config&quot;&gt;  &lt;span class=&quot;n&quot;&gt;Section&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Device&quot;&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;Identifier&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;Intel Graphics&quot;&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;Driver&lt;/span&gt;      &lt;span class=&quot;s2&quot;&gt;&quot;intel&quot;&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;Option&lt;/span&gt;      &lt;span class=&quot;s2&quot;&gt;&quot;AccelMethod&quot;&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;uxa&quot;&lt;/span&gt;
       &lt;span class=&quot;c&quot;&gt;#Option      &quot;AccelMethod&quot;  &quot;sna&quot;
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;EndSection&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Si al hacer los cambios GNU/Debian no inicia desde grub, seleccionar el &lt;strong&gt;recovery mode&lt;/strong&gt; y eliminas el archivo&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;go&quot;&gt;  rm /etc/X11/xorg.conf.d/20-intel.conf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Donde indicas que siga usando el mismo driver que venia usando, lo unico que cambias es (en palabras del post):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Más que eso, lo que has hecho es indicarle que use el mismo driver, modificando el método para la aceleración 3d. Intel pasó a usar el método &lt;strong&gt;sna&lt;/strong&gt; por defecto en detrimento del método &lt;strong&gt;uxa&lt;/strong&gt;, que
 es el que se venía usando. El prolema está en que sna, no siempre va bien con todas las intel, con lo que se mantuvo la posibilidad de usar uno u otro. Si la gráfica es algo vieja, es normal que &lt;strong&gt;uxa&lt;/strong&gt;
  te de buenos resultados. Por el contrario en gráficas nuevas, &lt;strong&gt;sna&lt;/strong&gt; es el que mejor funciona.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Y con esta simple modificación, que hice hace 2 semanas, no me han vuelto a aparecer los flashes en la pantalla del portatil.&lt;/p&gt;

&lt;p&gt;Espero que os sea de utilidad&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.unraid.net/topic/46910-simple-podcast-downloader-script/&quot;&gt;Como solucionar &lt;em&gt;ERROR&lt;/em&gt; CPU pipe A FIFO underrun?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://forums.debian.net/viewtopic.php?f=7&amp;amp;t=149472&quot;&gt;Problems (flash on screen) with i915&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 09 Jun 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Crear fichero de logs en bash</title>
        <link>/2021/06/09/crear-fichero-log-bash.html</link>
        <guid isPermaLink="true">/2021/06/09/crear-fichero-log-bash.html</guid>
        <description>&lt;p&gt;A veces tienes la necesidad de crear un fichero de log para saber cuando se ejecuta un proceso en un script que puedes haber creado, aqui pongo el que yo uso.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;A traves del siguiente codigo de bash, podemos crear nuestro propio fichero de logs:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;nv&quot;&gt;tie&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp/script_final.log&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# PER SAPIGUER LA DATA D'INICI*&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;hi&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# PER SAPIGUER LA DATA FINAL*&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;hf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$hf&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tie&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y con esto ya tenemos nuestro log&lt;/p&gt;
</description>
        <pubDate>Wed, 09 Jun 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Descargar Podcast a traves de Flexget</title>
        <link>/2021/05/30/flexget-podcast.html</link>
        <guid isPermaLink="true">/2021/05/30/flexget-podcast.html</guid>
        <description>&lt;p&gt;Gracias que tengo docker puedo usar la imagen que he creado de &lt;a href=&quot;https://flexget.com&quot;&gt;Flexget&lt;/a&gt;, una aplicación que a traves de un fichero &lt;strong&gt;yaml&lt;/strong&gt;, permite descargar lo que quieras incluidos podcast.&lt;/p&gt;

&lt;p&gt;En principio me gustan los que tengas que ver con la tecnologia y sobre todo lo que tenga que ver con GNU/Linux. Pero a parte de estos tambien tengo un podcast de historia que me encanta mucho y 
cuando me acuerdo lo escucho. Este podcast se llama &lt;a href=&quot;https://www.ccma.cat/catradio/en-guardia&quot;&gt;En Guàrdia&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Y buscando información al final consegui averiguar que a traves de &lt;strong&gt;Flexget&lt;/strong&gt; se pueden descargar Podcast asi que me puse a ello y gracias a un script para dicho proposito ya puedo descargar los podcast
de este programa sin preocuparme.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Este script esta compuesto por 2 secciones. Estas secciones son el &lt;strong&gt;template&lt;/strong&gt;, que consiste en una plantilla con los filtros que se tiene que tener en cuenta a la hora de descargar los podcast.&lt;/p&gt;

&lt;p&gt;Una vez definido el &lt;strong&gt;template&lt;/strong&gt;, pasamos a definir la tarea &lt;strong&gt;task&lt;/strong&gt; donde en base al &lt;strong&gt;template&lt;/strong&gt; se encargara de descargar los podcast.&lt;/p&gt;

&lt;p&gt;La primera parte del script &lt;strong&gt;template&lt;/strong&gt; esta compuesto por los siguientes filtros (en mi caso):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  templates:
    podcast:
      accept_all: &lt;span class=&quot;nb&quot;&gt;yes&lt;/span&gt;
      &lt;span class=&quot;c&quot;&gt;# PER A QUE SOLAMENT DESCARREGUI ELS 5 ULTIMS PODCAST&lt;/span&gt;
      limit_new: 5
      &lt;span class=&quot;c&quot;&gt;# COM VOLEN QUE ES DIGUI EL FITXER DESCARREGAT&lt;/span&gt;
      &lt;span class=&quot;c&quot;&gt;# ABANS I DESPRÉS DE LA CONFIGURACIÓ DEL NOM PORTA DOBLES COMETES&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;:
        filename: &lt;span class=&quot;c&quot;&gt;# NOM AMB QUE ES DESCARREGARA EL FITXER MP3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y ahora vamos a poner el script que se encarga de descargar (en base al &lt;strong&gt;template&lt;/strong&gt;) los podcast:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# DESCARREGA DE PODCAST&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
  tasks:
    &lt;span class=&quot;c&quot;&gt;# PODCAST EN GUARDIA&lt;/span&gt;
    podCastEnGuardia:
      template: podcast
      &lt;span class=&quot;c&quot;&gt;# RSS (XML) del programa&lt;/span&gt;
      rss: https://dinamics.ccma.cat/public/podcast/catradio/xml/4/4/podprograma944.xml
      &lt;span class=&quot;c&quot;&gt;# DIRECTORI DE DESCARREGA&lt;/span&gt;
      download: /media/podcast&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Por ultimo podriamos poner el &lt;strong&gt;calendario&lt;/strong&gt; de ejecución de este script, en mi caso, le indico que todas las tareas &lt;strong&gt;tasks&lt;/strong&gt; que empiezen por &lt;strong&gt;podCast&lt;/strong&gt; se ejecuten una vez al dia:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# CALENDARI EXECUCIÓ DE LES TASQUES&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
  schedules:
    &lt;span class=&quot;c&quot;&gt;# DESCARREGA PODCAST&lt;/span&gt;
    - tasks: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'podCast*'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
      interval:
        days: 1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Este script tiene que estar en el fichero &lt;strong&gt;config.yml&lt;/strong&gt; de flexget. Lo que se puede hacer antes, es probar que todo funciona correctamente a traves de la instrucción (dentro de docker):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;flexget &lt;span class=&quot;nt&quot;&gt;--test&lt;/span&gt; execute &lt;span class=&quot;nt&quot;&gt;--task&lt;/span&gt; podCastEnGuardia &lt;span class=&quot;nt&quot;&gt;--dump&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y ahora solamente nos queda disfrutar.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://forums.unraid.net/topic/46910-simple-podcast-downloader-script/&quot;&gt;Script para descargar podcast con flexget&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 30 May 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Creando tu propi Spotify privado</title>
        <link>/2021/05/08/rpi-spotify.html</link>
        <guid isPermaLink="true">/2021/05/08/rpi-spotify.html</guid>
        <description>&lt;p&gt;Cuando tienes un servidor de bajo consumo como una Raspberry y empiezas a usar docker, a parte de descubrir un nuevo mundo (no me canso de decirlo), tambien descubres nuevas formas de torturar tu mente.&lt;/p&gt;

&lt;p&gt;Porque digo eso, porque cuando piensas que ya has conseguido todo lo que necesitas, tu cabezita piensa “aprovechate de tu servidor y escucha tu musica en el movil”.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/cerebro.jpg&quot; alt=&quot;imatge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ahi es cuando te dices, porque no me pongo a investigar si existe esta posibilidad??
&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;Y solamente falta que sigas a &lt;a href=&quot;https://ugeek.github.io&quot;&gt;uGeek Podcast&lt;/a&gt; (increible todo lo que llega a hacer con su servidor) y ya te mete el gusanito en el cuerpo de &lt;em&gt;si el puedo, porque yo no&lt;/em&gt; y 
ya la tenemos liada.&lt;/p&gt;

&lt;p&gt;He seguido todos sus cambios de contenedores que el ha hecho y los he probado todos:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/spl0k/supysonic&quot;&gt;Supysonic&lt;/a&gt;: El primero que use y estuvo bien, hasta que…&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/sentriz/gonic&quot;&gt;Gonic&lt;/a&gt;: Uno de los mejores que he usado, pero no se, encuentro que le falta algo, pero no se que es…&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/navidrome/navidrome&quot;&gt;Navidrome&lt;/a&gt;: Junto a Gonic el mejor y este si que tiene un noseque que siempre vuelvo a el (sera el servidor web, desde el que puedes escuchar musica)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Y el mejor, en mi opinion, como he dicho antes &lt;strong&gt;navidrome&lt;/strong&gt;, no se que es, pero me encanta, su simpleza, los pocos recursos que consume del servidor. Lo tiene todo. Eso si, no tiene nada que echarle 
en cara a &lt;strong&gt;Gonic&lt;/strong&gt;, pero a este ultimo le falta algo que no se que es y eso que es igual de facil y consume tan pocos recursos como &lt;strong&gt;navidrome&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Despúes de esta breve explicación, pasamos a la instalación y configuración de mi &lt;strong&gt;Spotify&lt;/strong&gt; privado.&lt;/p&gt;

&lt;p&gt;Como todo en docker, solamente se tiene que añadir en tu fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; la configuración necesaria para instalar &lt;strong&gt;navidrome&lt;/strong&gt; que en mi caso es la siguiente:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  navidrome:
    image: deluan/navidrome:latest
    container_name: navidrome
    user: 1000:1000 
    ports:
      - &quot;4533:4533&quot;
    restart: unless-stopped
    environment:
      ND_TRANSCODINGCACHESIZE: 100MB
      ND_SCANSCHEDULE: &quot;@every 1h&quot;
      ND_SESSIONTIMEOUT: 24h
      ND_LASTFM_ENABLED: &quot;true&quot;
      ND_LASTFM_APIKEY: &quot;API DE LASTFM&quot;
      ND_LASTFM_SECRET: &quot;API DE LASTFM&quot;
      ND_LASTFM_LANGUAGE: &quot;es&quot;
      ND_SPOTIFY_ID: &quot;API DE SPOTIFY&quot;
      ND_SPOTIFY_SECRET: &quot;API DE SPOTIFY&quot;
    volumes:
      - ${STORAGE}/config/navidrome:/data
      - ${MEDIA}/audio/Music:/music:ro&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Yo he puesto las opciones de configuración que uso o las que más me interesan que son:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ND_SCANSCHEDULE&lt;/code&gt;: Cada cuando actualiza la biblioteca&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ND_LASTFM_ENABLED&lt;/code&gt;: Si quiero usar la api de LastFM (para que me de una descripción de los artitas que tengo)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ND_SPOTIFY_ID&lt;/code&gt;: Si quiero usar la api de Spotify  (lo mismo que en el caso de LastFM)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Y ahora solamente queda levantar el contenedor:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:/#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose up &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; navidrome&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y aqui es cuando se hace la magia. A lo mejor tarda un poco en estar disponible, porque esta escaneando toda la musica que tienes, pero cuando digo tardar, son un par de segundos. Porque lo escanea todo
a una velocidad increible.&lt;/p&gt;

&lt;p&gt;Lo unico que te queda es instalar una app en tu movil, en mi caso &lt;a href=&quot;https://substreamerapp.com&quot;&gt;substreamer&lt;/a&gt;, conectarte a tu servidor, que en este caso, te viene bien tener configurado un &lt;a href=&quot;/2021/05/07/rpi-nginx-proxy-manager.html&quot;&gt;proxy server&lt;/a&gt;
con su correspondiente certificado y disfrutar.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io/blog/post/2020-09-16-navidrome-la-alternativa-a-airsonic-desarrollada-en-go.html&quot;&gt;Navidrome&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io/blog/post/2020-05-06-gonic-el-mejor-y-mas-ligero-servidor-de-musica-con-api-subsonic.html&quot;&gt;Gonic&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io/blog/post/2019-12-31-supysonic-0-5-0-total-compatibilidad-con-todos-los-clientes-subsonic.html&quot;&gt;Supysonic&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 08 May 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Usando Nginx-Proxy-Manager en la Raspberry</title>
        <link>/2021/05/07/rpi-nginx-proxy-manager.html</link>
        <guid isPermaLink="true">/2021/05/07/rpi-nginx-proxy-manager.html</guid>
        <description>&lt;p&gt;Aqui tenemos otra entrada más que hace referencia a mi RPI y a ese inmenso oceano que se ha abierto al descubrir Docker.&lt;/p&gt;

&lt;p&gt;Una vez que tienes tu propio &lt;strong&gt;Spotify&lt;/strong&gt;, el siguiente paso que quieres hacer, es acceder a el desde exterior y para hacer esto tienes 2 maneras de hacerlo :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Abrir directamente el puerto de tu &lt;em&gt;Spotify&lt;/em&gt; con el riesgo que conlleva.&lt;/li&gt;
  &lt;li&gt;Utilizar un &lt;em&gt;Proxy&lt;/em&gt; para que a traves de &lt;em&gt;https&lt;/em&gt;, junto a un certificado SSL para darle más seguridad, acceder a este servicio sintiendote un poco más seguro.&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;Entonces, para hacer esto (segunda opción), no vayamos a ponerle las cosas faciles a los &lt;strong&gt;crackers&lt;/strong&gt;, tenemos varias opciones (voy a poner las que he usado) y todas disponibles con Docker:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Traefik&lt;/strong&gt;: Muy buena opción, pero de dificil configuración, a mi modo de ver.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Nginx-Proxy-Manager&lt;/strong&gt;: El más vistoso (incluye GUI) desde la que puedes hacerlo todo.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Caddy&lt;/strong&gt;: El más facil de usar.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Al principio use &lt;strong&gt;Traefik&lt;/strong&gt;, es muy poderoso y tiene muchas opciones de configuración, pero por ese mismo motivo, porque tiene muchas opciones, lo hace más dificil de usar.&lt;/p&gt;

&lt;p&gt;Después me decante por &lt;strong&gt;Caddy&lt;/strong&gt; porque todo lo tenia al alcance de la mano, con un simple fichero de texto y era una maravilla su simpleza, pero todo cambio, cuando sacaron una nueva versión de Caddy
que me arruino el chiringuito o fue &lt;strong&gt;duckdns&lt;/strong&gt; no lo tengo aun del todo claro (tendre que seguir haciendo pruebas).&lt;/p&gt;

&lt;p&gt;A lo que me vengo a referir es que en caddy (versiones antiguas) tenia una &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;url&lt;/code&gt; parecida a esta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://music.midominio.duckdns.org&lt;/code&gt; pero algo cambio en caddy o en duckdns que que ya no acceptaba este tipo de
url, y tuve que cambiar a una de este estilo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://music-midominio.duckdns.org&lt;/code&gt; a parte que tampoco me creaba los certificados (por eso digo, que no se si era culpa de Caddy o de duckdns).&lt;/p&gt;

&lt;p&gt;Pero no podia estar si acceso a mi &lt;strong&gt;Spotify&lt;/strong&gt; privado y después de investigar (aunque ya habia hecho un par de pruebas para ver como funcionaba) me decante por &lt;strong&gt;Nginx-Proxy-Manager&lt;/strong&gt;, no iba a volver 
a &lt;strong&gt;traefik&lt;/strong&gt; si me fui de el por su complejidad, asi que &lt;strong&gt;npm&lt;/strong&gt; fue mi salvación, por la ayuda que te da a la hora de toda la configuración con sus diferentes pantallas que tienes a tu disposición 
(tanto para crear los dominios, como para crear los certificados).&lt;/p&gt;

&lt;p&gt;Para usarlo en Docker utilice la siguiente configuración:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  npm:
    image: jc21/nginx-proxy-manager:latest
    container_name: npm
    restart: unless-stopped
    ports:
      - '80:80'
      - '81:81'
      - '443:443'
    volumes:
      - ${STORAGE}/config/npm/data:/data
      - ${STORAGE}/config/npm/letsencrypt:/etc/letsencrypt&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Hay que tener en cuenta una cosa, en algunos sitios, te indican que tienes que tener, a parte de &lt;strong&gt;npm&lt;/strong&gt;, tienes que tener un &lt;em&gt;gestor de BBDD&lt;/em&gt;, pero yo he podido comprobar, y es como lo tengo actualmente,
que no hace falta tener ningun gestor de BBDD (a lo mejor las nuevas versiones de npm ya lo tengan incorporado).&lt;/p&gt;

&lt;p&gt;Una vez, instalado, accedemos a traves (en mi caso) del puerto 81 y con las siguintes credenciales :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  Username: admin@example.com
  Password: changeme&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Cuando accedemos al sistema, lo primero que hacemos es cambiar el usuario y el password de acceso y ya lo tenemos preparado para poderlo usar.&lt;/p&gt;

&lt;p&gt;Con los videos que hay en la &lt;strong&gt;Referencia&lt;/strong&gt; podras configurarlo sin ningun problema.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=0n9DLj2ndo4&quot;&gt;Certificados AUTOMÁTICOS y GRATIS para CUALQUIER SERVIDOR - Nginx Proxy Manager&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;del&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=J7gpQYJ8bjU&quot;&gt;Instalar NGINX PROXY MANAGER en una RASPBERRY Pi 4&lt;/a&gt;&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 07 May 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Cambiando Traefik por Caddy</title>
        <link>/2021/04/08/rpi-caddy-proxy-manager.html</link>
        <guid isPermaLink="true">/2021/04/08/rpi-caddy-proxy-manager.html</guid>
        <description>&lt;p&gt;Anteriomente venia usando Traefik, pero como ya he comentado, era muy dificil de mantener y de configurar, a parte de las multiples opciones que tiene. Ante esto, me resultaba muy tedioso su uso, asi que
decidir buscar otra alternativa más facil.&lt;/p&gt;

&lt;p&gt;Después de buscar y leer a mis blogueros preferidos:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io&quot;&gt;uGeek&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://elblogdelazaro.org&quot;&gt;El Blog de Lazaro&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;Vi que los dos recomendaban:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://caddyserver.com&quot;&gt;Caddy&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://nginxproxymanager.com&quot;&gt;Nginx Proxy Manager&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Cada uso con sus ventajas e inconvenientes, aunque me tiraba más npm (para abreviar) por el gui que tenia, me decidi por caddy, porque una de sus virtudes es que podias tener url del siguiente estilo:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;music.tudominio.duckdns.org&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Además el poder tener todos tus servicios activos y con su correspondiente certificado solamente con un fichero de texto.&lt;/p&gt;

&lt;p&gt;Y eso es una ventaja, porque se parece más a una &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;URL&lt;/code&gt; de verdad. Y por eso me decidi por &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Caddy&lt;/code&gt;, aunque al final tuve que tirar por npm, ya lo comentare en otro 
&lt;a href=&quot;/2021/05/07/rpi-nginx-proxy-manager.html&quot;&gt;articulo&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;qué-es-caddy&quot;&gt;Qué es Caddy&lt;/h3&gt;

&lt;p&gt;Caddy 2 es un potente servidor web de código abierto desarrollado en go. Simplifica su infraestructura y se encarga de las renovaciones de certificados.&lt;/p&gt;

&lt;p&gt;Funciona muy bien en contenedores porque no tiene dependencias.&lt;/p&gt;

&lt;p&gt;Aunque la mayoría de la gente lo usa como servidor web o proxy, es una excelente opción tambien para:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Servidor web&lt;/li&gt;
  &lt;li&gt;proxy inverso&lt;/li&gt;
  &lt;li&gt;proxy de sidecar&lt;/li&gt;
  &lt;li&gt;equilibrador de carga&lt;/li&gt;
  &lt;li&gt;Puerta de enlace API&lt;/li&gt;
  &lt;li&gt;controlador de ingreso&lt;/li&gt;
  &lt;li&gt;administrador de sistemas&lt;/li&gt;
  &lt;li&gt;supervisor de proceso&lt;/li&gt;
  &lt;li&gt;programador de tareas (cualquier proceso de larga duración)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;creando-el-docker&quot;&gt;Creando el docker&lt;/h3&gt;

&lt;p&gt;Caddy requiere acceso de escritura a dos ubicaciones: un directorio de datos y un directorio de configuración.&lt;/p&gt;

&lt;p&gt;Recuerda que para generar los certificados de Let’s Encrypt, Caddy necesita tener abiertos los puertos 80 y 443.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  version: &quot;3.7&quot;
  services:
    caddy:
      image: caddy
      ports:
        - &quot;80:80&quot;
        - &quot;443:443&quot;
      volumes:
        - ./Caddyfile:/etc/caddy/Caddyfile:ro
        - ./data/caddy/data:/data
        - ./data/caddy/config:/config
      restart: unless-stopped
      container_name: caddy  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Creamos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Caddyfile&lt;/code&gt;, donde irá la configuración de nuestro proxy inverso.&lt;/p&gt;

&lt;p&gt;Voy a exponer mi docker de &lt;strong&gt;Spotify&lt;/strong&gt; personal al mundo para asi a traves del movil poder escuchar la musica que tengo en el servidor, en concreto, &lt;strong&gt;Navidrome&lt;/strong&gt; (ya explicare en otro 
&lt;a href=&quot;{}&quot;&gt;articulo&lt;/a&gt; como tener tu propio &lt;strong&gt;Spotify&lt;/strong&gt; en funcionamiento).&lt;/p&gt;

&lt;p&gt;Caddy se encargará de exponer este servicio a la red generando el certificado con Let’s Encrypt, que en mi caso, como ya he dicho, es mi Spotify privado y asi no tener que depender de nadie.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  music.midominio.duckdns.org &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                                  reverse_proxy http://192.168.1.100:4533
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Asi de rapido y de sencillo tengo mi proxy inverso en funcionamiento junto con mi certificado SSL. Y lo más interesante, es que cuando llegue el momento de que el certificado vaya a caducar, el mismo
caddy se encargara de actualizarlo.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia:&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ugeek.github.io/blog/post/2021-02-19-proxy-inverso-con-caddy.html&quot;&gt;Proxy Inverso con Caddy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 08 Apr 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Montar imagen ISO desde consola en GNU/Linux</title>
        <link>/2021/03/25/montar-imagen-iso-consola.html</link>
        <guid isPermaLink="true">/2021/03/25/montar-imagen-iso-consola.html</guid>
        <description>&lt;p&gt;Vamos a explicar como a traves de la consola de GNU/Linux se puede montar una imagen / archivo ISO.&lt;/p&gt;

&lt;p&gt;No se si os ha pasado alguna vez a vosotros, pero llega un dia, que teneis una &lt;strong&gt;ISO&lt;/strong&gt; y os encontrais sin CD para gravar y el lector y no sabeis que hacer en ese momento (me ha pasado más de una vez),
 hasta que he encontrado este sencillo metodo para resolver el problema.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Lo primero es acceder a la consola y ejecutamos el siguiente comando:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo mkdir&lt;/span&gt; /media/cdrom&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Estamos creando el directorio donde vamos a montar la imagen &lt;strong&gt;ISO&lt;/strong&gt;, en mi caso, como ya tengo este directorio me puedo saltar este paso.&lt;/p&gt;

&lt;p&gt;Ahora pasamos a montar la imagen directamente:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mount &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; loop &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; iso9660 /ruta_imagen.iso /media/cdrom&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Vamos a explicar un poco que significa cada parametro:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;El parametro &lt;strong&gt;-o&lt;/strong&gt; es un indicador de opciones genericas para asi poder usar &lt;strong&gt;loop&lt;/strong&gt;. Esta opción de bucle le indica a GNU/Linux que use la interfaz de bucle invertido en lugar de un dispositivo 
fisico, ya que la imagen ISO no es un dispositivo real con una lista en el directorio &lt;strong&gt;/dev&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;El parametro &lt;strong&gt;-t&lt;/strong&gt; hace referencia al tipo de sistema de archivos a montar, en este caso es &lt;strong&gt;iso9660&lt;/strong&gt; o lo que es lo mismo, usa &lt;strong&gt;ISO&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Cuando tenemos montada la &lt;strong&gt;ISO&lt;/strong&gt;, ya podemos acceder a ella como si fuera un CD/DVD normal.&lt;/p&gt;

&lt;p&gt;Para finalizar, nos quedara desmontar la imagen &lt;strong&gt;ISO&lt;/strong&gt; de la misma manera como se haria con un dispositivo fisico:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;umount /media/cdrom&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.solvetic.com/tutoriales/article/5805-como-montar-iso-en-linux/&quot;&gt;Cómo montar imagen ISO en Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 25 Mar 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Raspberry Pi. Externalizando copias de seguridad</title>
        <link>/2021/01/18/rpi-externalizando-copias-seguridad.html</link>
        <guid isPermaLink="true">/2021/01/18/rpi-externalizando-copias-seguridad.html</guid>
        <description>&lt;p&gt;Este articulo es una continuación al que hice hace un par de dias con respecto a realizar copias de seguridad en mi RPI4 con &lt;a href=&quot;/2021/01/17/rpi-copias-seguridad.html&quot;&gt;rsnapshot&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Esta bien hacer copias de seguridad de los ficheros más importantes del sistema, pero hay un problema, que si estas copias estan en el mismo HDD que el resto del sistema, en caso de que el HDD falle, 
pierdes todas las copias de seguridad que habias hecho.&lt;/p&gt;

&lt;p&gt;Pero para esto, tenemos a &lt;strong&gt;Docker&lt;/strong&gt; que viene en nuestra ayuda. En este caso, si tienes una cuenta de &lt;strong&gt;MEGA&lt;/strong&gt;, la puedes utilizar, para una vez que has hecho las copias de seguridad de tu sistema 
con &lt;strong&gt;rsnapshot&lt;/strong&gt;, las guardas en tu cuenta, para en caso de fallo, poder recuperar toda la información sin ningun problema.&lt;/p&gt;

&lt;p&gt;Esto se puede hacer a traves de la imagen &lt;a href=&quot;https://hub.docker.com/r/melsonlai/docker-megacmd&quot;&gt;MegaCmd&lt;/a&gt; que nos provee de un sistema automatico, para que al copiar ficheros que nosotros pongamos en 
dicho directorio, los copia automaticamente en nuestra cuenta de &lt;strong&gt;Mega&lt;/strong&gt;.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Lo que necesitamos primero es hacer nuestro &lt;strong&gt;docker-compose&lt;/strong&gt; de la siguiente manera:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  megacmd:
    image: melsonlai/docker-megacmd:arm
    container_name: megacmd
    restart: unless-stopped
    environment:
      - PUID=1000
      - PGID=1000
    volumes:
      # DIRECTORIO DONDE ESTA LA CONFIGURACIÓN DE MEGA
      - /mnt/config/megacmd:/home/d_user
      &lt;span class=&quot;c&quot;&gt;# DIRECTORIO DONDE ESTA LAS COPIAS DE SEGURIDAD DE RSNAPSHOT Y QUE QUEREMOS&lt;/span&gt;
      &lt;span class=&quot;c&quot;&gt;# COPIAR EN MEGA&lt;/span&gt;
      - /mnt/seguretat:/mnt/sync&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez tenemos nuestro fichero &lt;strong&gt;docker-compose&lt;/strong&gt;, solamente nos queda usar nuestro comando favorito &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose up -d megacmd&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Cuando se ha finalizació la descarga de la imagen, tenemos que ejecutar el siguinete comando para entrar en el container y finalizar la configuración del sistema:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  usuari@raspberry:~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;docker &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-it&lt;/span&gt; megacmd su - d_user

  ~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mega-login &amp;lt;account-email&amp;gt; &amp;lt;password&amp;gt;
  ~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mega-sync &amp;lt;localpath&amp;gt; &amp;lt;dstremotepath&amp;gt;

  &lt;span class=&quot;c&quot;&gt;# EN MI CASO, ESTA INSTRUCCIÓN SERIA LA SIGUIENTE&lt;/span&gt;
  ~&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;mega-sync /mnt/sync /backup&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y con esta se da por finalizada la configuración de &lt;strong&gt;MegaCmd&lt;/strong&gt; que automaticamente sincronizara el contenido del directorio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/seguretat&lt;/code&gt; con el directorio que 
hayais seleccionado en vuestra cuenta de &lt;strong&gt;Mega&lt;/strong&gt;.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/melsonlai/docker-megacmd&quot;&gt;MEGA - cmd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 18 Jan 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Raspberry Pi. Haciendo copias de seguridad</title>
        <link>/2021/01/17/rpi-copias-seguridad.html</link>
        <guid isPermaLink="true">/2021/01/17/rpi-copias-seguridad.html</guid>
        <description>&lt;p&gt;Otro capitulo más con respecto a la configuración de de mi RPI4, en este caso son las copias de seguridad de la información más importante.&lt;/p&gt;

&lt;p&gt;Tal como he dicho en otros articulos, desde que conoci Docker, se abrio un nuevo mundo y para esto, no iba a ser menos.&lt;/p&gt;

&lt;p&gt;Para realizar las copias de seguridad queria usar esta imagen &lt;a href=&quot;https://hub.docker.com/r/pablokbs/rsnapshot-cron/tags?page=1&amp;amp;ordering=last_updated&quot;&gt;rsnapshot&lt;/a&gt;, hecha por PeladoNerd, pero no funciona. 
No esta compilada para ARM, le di un toque por octubre, pero supongo que por trabajo, no ha podido solucionar el problema, asi que tuve que buscarme otras opciones. Y como no, salio al rescate 
&lt;a href=&quot;https://hub.docker.com/r/linuxserver/rsnapshot&quot;&gt;linuxserver&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Lo bueno que tiene &lt;strong&gt;rsnapshot&lt;/strong&gt; es que solamente te copia los ficheros que se modifican. Al principio, si que hace una copia de todo, porque no tiene nada con que comprarar, pero a partir de ese 
momento, solo hace las copias de los ficheros que se modifican.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Asi, que nos pusimos a ello. Lo primero fue decidir que información es la importante, luego como la vamos a estructurar (donde estara el directorio). En mi caso, la cosa quedo de la siguiente manera:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;### DIRECTORIO DONDE SE ALMACENAN LAS COPIAS DE SEGURIDAD&lt;/span&gt;
  /mnt/seguretat

  &lt;span class=&quot;c&quot;&gt;### DIRECTORIOS DE LOS QUE QUIERO COPIAS DE SEGURIDAD&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# el directorio de mi usuario (junto con el docker-compose de docker)&lt;/span&gt;
  /home
  &lt;span class=&quot;c&quot;&gt;# el directorio donde estan las configuraciones del servidor que son importantes&lt;/span&gt;
  /etc
  &lt;span class=&quot;c&quot;&gt;# el directorio donde tengo las configuraciones de las imagenes de docker&lt;/span&gt;
  /mnt/config&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez ya tenemos decido la información a salvaguardar, pasamos a la creación del &lt;strong&gt;docker-compose&lt;/strong&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  rsnapshot:
    image: ghcr.io/linuxserver/rsnapshot
    container_name: rsnapshot
    restart: unless-stopped
    volumes:
    - /mnt/config/rsnapshot:/config
    - /mnt/seguretat:/snapshots
    - /etc:/data/etc
    - /home/pi:/data/home/pi
    - /mnt/config:/data/config
    environment:
    - PUID=1000
    - PGID=1000
    - TZ=Europe/Madrid&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Después de crear el docker, solamente nos quedar ejecutar la magica instruccion que nos lo pondra en marcha todo:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose up &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; rsnapshot&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ahora nos queda la ultima parte, que es configurar los ficheros de configuración de rsnapshot. En mi caso lo hago dentro del mismo docker. Es posible que se pudiera hacer a traves de los ficheros de 
configuración que estan en el host del docker, pero prefiero acceder para hacer la configuración. Que en mi caso estan en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/mnt/config/rsnapshot&lt;/code&gt; y a configuración la
 tengo de la siguiente manera:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;dockerCompose
&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~/dockerCompose $&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;rsnapshot sh&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;### EDITO LOS FICHEROS RSNAPSHOT.CONF DE LA SIGUIENTE MANERA&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# DIRECTORIO QUE CONTIENE LAS COPIAS (QUE LO HABRAS CONFIGURADO EN EL&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# DOCKER-COMPOSE)&lt;/span&gt;
  rsnapshpot_root   /snapshots

  &lt;span class=&quot;c&quot;&gt;### SON LOS INTERVALOS QUE SE SALVAN&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# SE MANTIENEN 7 COPIAS DIARIAS&lt;/span&gt;
  retain    daily   7
  &lt;span class=&quot;c&quot;&gt;# SE MANTIENEN 4 COPIAS SEMANALES&lt;/span&gt;
  retain    weekly  4
  &lt;span class=&quot;c&quot;&gt;# SE MANTIENEN 3 COPIAS MENSUALES&lt;/span&gt;
  retain    monthly 3
  
  &lt;span class=&quot;c&quot;&gt;# FICHERO DE LOGS&lt;/span&gt;
  
  logfile   /config/rsnapshot.log
  &lt;span class=&quot;c&quot;&gt;# DIRECTORIO A COPIAR - EN MI CASO, DENTRO DE DATA, TENGO LOS DIRECTORIOS&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# A SALVAGUARDAR&lt;/span&gt;
  backup    /data/    localhost/&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;El siguiente fichero que hay que configurar, es el de cron (propio de rsnapshot), que se encarga de ejecutar las copias:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;# AUN SIGO DENTRO DEL CONTAINER&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;crontabs
  vi root

  &lt;span class=&quot;c&quot;&gt;# AHORA PASAMOS A LA EDICIÓN DEL FICHERO&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# min   hour    day   month   weekday   command&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# SE EJECUTA CADA DIA A LAS 2 DE LA MAÑANA&lt;/span&gt;
  0       2       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;         rsnapshot daily
  &lt;span class=&quot;c&quot;&gt;# SE EJECUTA CADA LUNES (WEEKDAY - 1) A LAS 4 DE LA MAÑANA&lt;/span&gt;
  0       4       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       1         rsnapshot weekly
  &lt;span class=&quot;c&quot;&gt;# SE EJECUTA CADA DIA 1 DE CADA MES A LAS 6 DE LA MAÑANA&lt;/span&gt;
  0       6       1     &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;         rsnapshot monthly&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y con esto, ya tenemos configurado &lt;strong&gt;rsnapshot&lt;/strong&gt;, ahora solamente hay que dejarlo que funcione y listo.&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=gxJqpBsPseM&quot;&gt;Backups faciles con Docker! - V2M / Rsnapshot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/pablokbs/rsnapshot-cron/tags?page=1&amp;amp;ordering=last_updated&quot;&gt;PabloKbs - Rsnapshot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/linuxserver/rsnapshot&quot;&gt;LinuxServer - Rsnapshot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 17 Jan 2021 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Crear imagenes en docker</title>
        <link>/2020/12/14/crear-imagen-docker.html</link>
        <guid isPermaLink="true">/2020/12/14/crear-imagen-docker.html</guid>
        <description>&lt;p&gt;Esto es una cosa que queria hacer desde que he empezado a utilizar &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker&lt;/code&gt; porque siempre va bien tenerlos apuntado por si algun momento hace falta y si además te has hecho algun par de containers 
propios, pues nunca esta de más.&lt;/p&gt;

&lt;p&gt;La parte más dificil de crear una imagen docker, es el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;, este fichero es todo lo que contendra y hara la imagen docker cuando se cree (sobre que base funciona, que puertos, volumenes, 
etc…).&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Un ejemplo de fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; puede ser este que utilice para crear la imagen de flexget :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;  FROM alpine:3.11
  LABEL maintainer &quot;wiserain&quot;

  RUN \
    echo &quot;**** install frolvlad/alpine-python3 ****&quot; &amp;amp;&amp;amp; \
    apk add --no-cache python3 &amp;amp;&amp;amp; \
    python3 -m ensurepip &amp;amp;&amp;amp; \
    rm -r /usr/lib/python*/ensurepip &amp;amp;&amp;amp; \
    pip3 install --no-cache --upgrade pip setuptools wheel &amp;amp;&amp;amp; \
    if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip; fi &amp;amp;&amp;amp; \
    echo &quot;**** install dependencies for plugin: telegram ****&quot; &amp;amp;&amp;amp; \
    apk add --no-cache py3-cryptography &amp;amp;&amp;amp; \
    pip install --upgrade PySocks &amp;amp;&amp;amp; \
    pip install --upgrade python-telegram-bot &amp;amp;&amp;amp; \
    echo &quot;**** install dependencies for plugin: cfscraper ****&quot; &amp;amp;&amp;amp; \
    pip install --upgrade cloudscraper &amp;amp;&amp;amp; \
    apk del --purge --no-cache build-deps &amp;amp;&amp;amp; \
    echo &quot;**** install dependencies for plugin: convert_magnet ****&quot; &amp;amp;&amp;amp; \
    apk add --no-cache boost-python3 libstdc++ &amp;amp;&amp;amp; \
    echo &quot;**** install dependencies for plugin: misc ****&quot; &amp;amp;&amp;amp; \
    pip install --upgrade \
      transmissionrpc \
      irc_bot &amp;amp;&amp;amp; \
    echo &quot;**** install dependencies for plugin: rar ****&quot; &amp;amp;&amp;amp; \
    apk add --no-cache unrar &amp;amp;&amp;amp; \
    pip install --upgrade rarfile &amp;amp;&amp;amp; \
   echo &quot;**** install flexget ****&quot; &amp;amp;&amp;amp; \
    pip install --upgrade --force-reinstall flexget &amp;amp;&amp;amp; \
    # add default volumes
    VOLUME /config /data
    WORKDIR /config

    &lt;span class=&quot;c&quot;&gt;# expose port for flexget webui&lt;/span&gt;
    EXPOSE 3539 3539/tcp

    &lt;span class=&quot;c&quot;&gt;# run init.sh to set uid, gid, permissions and to launch flexget&lt;/span&gt;
    RUN chmod +x /scripts/init.sh
    CMD [&quot;/scripts/init.sh&quot;]&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Como se puede ver, en este caso, la base de mi imagen es &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;alpine:3.11&lt;/code&gt; y se basa en una imagen ya creada por wiserain. Lo que yo hice fue quitar un par de cosas que no necesitaba y añadir otras porque
 a la hora de funcionar me daban error.&lt;/p&gt;

&lt;p&gt;Luego viene, todo el resto de programas que tiene que hacer para que la imagen docker funcione correctamente. En este caso, el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; que estoy usando, es el que se usa para crear la imagen de 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flexget&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Esta, en principio es la parte más dificil de crear una imagen docker, ahora solamente nos queda subirlo a algun almacen de imagenes docker. En este caso, yo estoy dado de alta en 
&lt;a href=&quot;https://hub.docker.com/&quot;&gt;docker hub&lt;/a&gt; es que donde muchas personas han colgado las imagenes que ellos han creado, para que el resto pueda utilizarla.&lt;/p&gt;

&lt;p&gt;Para crear la imagen en si y luego subirla, lo primero es crear dicha imagen. Esto se hace a traves del siguiente comando (lo mejor es ejecutar esta imagen dentro del directorio donde tenemos el 
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker build &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; usuario/nombre_imagen:version .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Con esto ya hemos creado la imagen, ahora tenemos que subir la imagen, pero antes tenemos que hacer login en nuestra cuenta de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dockerhub&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker login&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez ya tenemos acceso procedemos a subir la imagen :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@debian:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker push usuario/nombre_imagen:latest&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y ya tenemos  nuestra imagen de docker creada y subida en dockerhub.&lt;/p&gt;

&lt;h5 id=&quot;referencia&quot;&gt;Referencia&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.atareao.es/tutorial/docker/crear-una-imagen-docker-desde-cero-y-paso-a-paso/&quot;&gt;Crear imagen Docker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 14 Dec 2020 00:00:00 +0000</pubDate>
      </item>
    
      <item>
        <title>Raspberry Pi. Instalar y configurar fail2ban</title>
        <link>/2020/11/08/rpi-usando-fail2ban.html</link>
        <guid isPermaLink="true">/2020/11/08/rpi-usando-fail2ban.html</guid>
        <description>&lt;p&gt;Siguiendo con mis capitulos con respecto a la configuración y uso de mi RPI4 (tambien explicado en este otro &lt;a href=&quot;/2020/10/30/rpi-cambiando-equipo.html&quot;&gt;articulo&lt;/a&gt;, pues ahora 
pasamos a añadir una protección más y que en  todos los sitios donde explican su configuración, se preguntan, porque no esta instalada por defecto en todos los sistemas GNU/Linux.&lt;/p&gt;

&lt;p&gt;Esta protección es &lt;strong&gt;fail2ban&lt;/strong&gt;.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Su funcionalidad es la de monitorizar todos los intentos de conexión a los servicios que hayas indicado en el fichero de configuración,  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail.local&lt;/code&gt; y cuando ve que una &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IP&lt;/code&gt; intenta hacer más de un 
intento fallido, &lt;em&gt;bloquea - banea&lt;/em&gt; durante el tiempo que tu hayas indicado.&lt;/p&gt;

&lt;p&gt;Ahora, pasamos a explicar unos cuantos conceptos del fichero de configuración :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;maxretry&lt;/strong&gt;: Cuantos intentos de conexión se aceptan antes del bloqueo / baneo.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;fintime&lt;/strong&gt;: Es durante cuanto tiempo se monitoriza una IP antes de activarse la opcion &lt;strong&gt;maxretry&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;bantime&lt;/strong&gt;: Cuanto tiempo permanecera baneada la ip de donde ha venido el intento de conexión. En el caso de que quieras ser agresivo, puedes poner más tiempo. En mi caso lo tengo con que el baneo
sea de 1 dia (86.400 segundos).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ignoreip&lt;/strong&gt;: Para ignorar los intentos de conexión fallidos que vienen de nuestra propia red.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ahora pasamos a su modificación.&lt;/p&gt;

&lt;p&gt;Lo que he leido en todos sitios con respecto a &lt;strong&gt;fail2ban&lt;/strong&gt;, es que lo mejor es copiar el fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail.conf&lt;/code&gt; a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jail.local&lt;/code&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /etc
&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo cp &lt;/span&gt;jail.conf jail.local&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Una vez hecho esto, ya lo podemos editar con las opciones que más nos interesan que en mi caso son las siguiente :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  &lt;span class=&quot;c&quot;&gt;# descomentar la opción ignoreip para que no tenga en cuenta los accesos&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# que vienen de nuestra propia red&lt;/span&gt;
  ignoreip &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 127.0.0.1/8 ::1
  &lt;span class=&quot;c&quot;&gt;# descomentamos la opción bantime y en mi caso he puesto 86400&lt;/span&gt;
  bantime &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 86400
  &lt;span class=&quot;c&quot;&gt;# descomentamos la opcion fintime y yo he dejado el valor por defeccto&lt;/span&gt;
  fintime &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 10m&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ahora pasamos a activar los modulos que nos interesa que en mi caso es el modulo de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sshd&lt;/code&gt;. Los modulos se encuentran a partir de la opción &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JAILS&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Se activan con la opción &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enabled = true&lt;/code&gt;. Y en mi caso el modulo de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SSHD&lt;/code&gt; queda de la siguiente manera :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;  enabled &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true
  &lt;/span&gt;filter &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; sshd
  &lt;span class=&quot;c&quot;&gt;# Aqui es donde ponemos los puertos a controlar. Si ponemos ssh,&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# se monitoriza el puerto por defecto de ssh (22), pero&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# tambien podemos poner otros puertos.&lt;/span&gt;
  port &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ssh, xxxx&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Si revisas los modulos disponibles, ves que hay un monto, por ejemplo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dropbear&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apache&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nginx&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lighttpd&lt;/code&gt; y unos cuantos más.&lt;/p&gt;

&lt;p&gt;De esta manera ya tenemos configurado &lt;strong&gt;fail2ban&lt;/strong&gt;, ahora solamente falta activarlo :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /etc/init.d/fail2ban start&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Y disfrutar de los baneos, que puedes ver, en el fichero de los :&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo tail&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /var/log/fail2ban.log&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;Que como dice un youtuber famoso &lt;a href=&quot;https://www.youtube.com/channel/UCrBzBOMcUVV8ryyAU_c6P5g&quot;&gt;PeladoNerd&lt;/a&gt;, es un ejercicio muy saludable.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Asi mismo, tambien pongo el codigo necesario para poder &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;desbanear&lt;/code&gt; nuestra ip de acceso a la raspberry (me ha pasado más de una vez), lo que se tiene que hacer es lo siguiente:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-terminal&quot; data-lang=&quot;terminal&quot;&gt;&lt;span class=&quot;gp&quot;&gt;  usuari@raspberry:~$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;fail2ban-client &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;sshd unbanip x.x.x.x
&lt;span class=&quot;gp&quot;&gt;  #&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Donde x.x.x.x es la ip&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ten en cuenta, que esto lo tienes que hacer desde otro PC, porque desde el que tienes acceso normalmente no te dejara acceder, si es que no le cambias la ip&lt;/p&gt;

&lt;h4 id=&quot;referencia&quot;&gt;Referencia&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://elblogdelazaro.gitlab.io/2017-10-05-fail2ban-raspberry&quot;&gt;fail2ban en una Raspberry Pi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=PAK7I1cKwzA&quot;&gt;ESTO TENDRIA QUE VENIR POR DEFECTO EN LINUX - V2M / fail2ban&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://support.moonpoint.com/os/unix/linux/fail2ban-unban.php&quot;&gt;Desbanear IP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 08 Nov 2020 00:00:00 +0000</pubDate>
      </item>
    
  </channel>
</rss>
